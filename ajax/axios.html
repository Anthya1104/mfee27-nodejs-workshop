<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>XHR</title>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"
      integrity="sha512-odNmoc1XJy5x1TMVMdC7EMs3IVdItLPlCeL5vSUPN2llYKMJ2eByTTAIiiuqLg+GdNr9hF6z81p27DArRFKT7A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body>
    <button id="asyncBtn">AXIOS</button>
    <!-- <button id="syncBtn">jquery</button> -->
    <button id="countBtn">測試按鈕</button>
    <div id="count">0</div>
    <div id="response">message</div>

    <script>
      // test url: http://54.71.133.152:3000/
      let date = new Date();
      var responseDom = document.getElementById('response');
      var asyncBtn = document.getElementById('asyncBtn');
      //記得一定要改成async function
      asyncBtn.addEventListener('click', function () {
        responseDom.innerHTML = '開始非同步請求';
        axios
          .get('http://54.71.133.152:3000/')
          .then(function (response) {
            console.log(response);
            responseDom.innerHTML = `Axios的結果: ${response.data}`;
          })
          .catch(console.error);
        //TODO: 用await來寫
        //   asyncBtn.addEventListener('click', async function () {
        // responseDom.innerHTML = '開始非同步請求';
        // axios
        //   .get('http://54.71.133.152:3000/')
        //   .then(function (response) {
        //     console.log(response);
        //     responseDom.innerHTML = `Axios的結果: ${response.data}`;
        //   })
        //   .catch(console.error);
      });

      var count = document.getElementById('count');
      var countBtn = document.getElementById('countBtn');
      countBtn.addEventListener('click', function () {
        count.innerText = parseInt(count.innerText, 10) + 1;
      });
    </script>
  </body>
</html>
